import{_ as e,a,b as s,c as t,d as r,e as l}from"./index.53a3f6e0.js";import{m as n,l as o,f as u,b as c,e as i,o as d,c as f,g as p,w as h,u as y,k as m,F as g,h as v}from"./vendor.5cc3f50f.js";const b=v("arrow_back"),q=p("label",{for:"app-search",class:"sr-only"}," Search by ingredient, dish, keyword... ",-1),k=v("close"),w={expose:[],setup(t){const r=n(),l=o(),v=u((()=>l.query.q||"")),w=c(null);function _({target:e}){r.push({name:"search",query:Object.assign({},l.query,{q:e.value})})}function x({target:e}){const a=Object.assign({},l.query);delete a.q,r.push({query:a}),w.value.focus()}return i((()=>w.value.focus())),(t,r)=>{const l=e,n=a,o=s;return d(),f(g,null,[p(n,{to:{name:"home"},"aria-label":"Go home"},{default:h((()=>[p(l,null,{default:h((()=>[b])),_:1})])),_:1}),q,p("input",{type:"search",id:"app-search",placeholder:"Ingredient, dish, keyword...",autocomplete:"off",value:y(v),onInput:_,ref:w,class:"\n      text-xl\n      flex-1\n      placeholder-gray-500\n      focus:outline-none\n      bg-transparent\n    "},null,40,["value"]),y(v)?(d(),f(o,{key:0,onClick:x,"aria-label":"clear search"},{default:h((()=>[p(l,null,{default:h((()=>[k])),_:1})])),_:1})):m("",!0)],64)}}},_={key:1,class:"list"},x=p("p",null,"No recipes found",-1),C={expose:[],setup(e){const a=u((()=>o().query.q||"")),s=n().options.routes.filter((e=>e.path.startsWith("/recipes"))).reverse(),c=u((()=>s.filter((e=>{var s,t;const r=a.value.toLowerCase(),l=e.meta;return l.title.toLowerCase().includes(r)||(null==(s=l.ingredients)?void 0:s.find((e=>e.toLowerCase().includes(r))))||(null==(t=l.keywords)?void 0:t.find((e=>e.toLowerCase().includes(r))))}))));return(e,a)=>{const s=w,n=r,o=l,u=t;return d(),f(u,null,{header:h((()=>[p(s)])),default:h((()=>[y(c).length?(d(),f(o,{key:0,items:y(c),class:"grid gap-6"},{default:h((({item:e})=>[p(n,{recipe:e},null,8,["recipe"])])),_:1},8,["items"])):(d(),f("div",_,[x]))])),_:1})}}};export default C;
