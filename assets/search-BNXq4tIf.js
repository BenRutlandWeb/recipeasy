import{u as g,a as k,c as d,r as x,o as q,b as h,d as c,e as u,f,g as y,h as B,w as i,_ as v,i as b,j as C,F as L,k as S,l as R,m as $}from"./index-CWmYBJv1.js";const A=["value"],I={__name:"SearchAppBar",setup(w){const r=g(),l=k(),p=d(()=>l.query.q||""),t=x(null);function a({target:s}){r.push({name:"search",query:Object.assign({},l.query,{q:s.value})})}function o({target:s}){const e=Object.assign({},l.query);delete e.q,r.push({query:e}),t.value.focus()}return q(()=>t.value.focus()),(s,e)=>{const n=v,_=b,m=C;return c(),h(L,null,[u(_,{to:{name:"home"},"aria-label":"Go home"},{default:i(()=>[u(n,{icon:"arrow_back"})]),_:1}),e[0]||(e[0]=f("label",{for:"app-search",class:"sr-only"}," Search by ingredient, dish, keyword... ",-1)),f("input",{type:"search",id:"app-search",placeholder:"Ingredient, dish, keyword...",autocomplete:"off",value:p.value,onInput:a,ref_key:"appSearch",ref:t,class:"text-xl flex-1 placeholder-gray-500 focus:outline-none bg-transparent"},null,40,A),p.value?(c(),y(m,{key:0,onClick:o,"aria-label":"clear search"},{default:i(()=>[u(n,{icon:"close"})]),_:1})):B("",!0)],64)}}},N={key:1},j={key:2,class:"text-center grid gap-4"},F={__name:"search",setup(w){const r=d(()=>k().query.q||""),l=g().options.routes.filter(t=>t.path.startsWith("/recipes")).reverse(),p=d(()=>l.filter(t=>{var s,e;const a=r.value.toLowerCase(),o=t.meta;return o.title.toLowerCase().includes(a)||((s=o.ingredients)==null?void 0:s.find(n=>n.toLowerCase().includes(a)))||((e=o.keywords)==null?void 0:e.find(n=>n.toLowerCase().includes(a)))}));return(t,a)=>{const o=I,s=$,e=R,n=v,_=S;return c(),y(_,null,{header:i(()=>[u(o)]),default:i(()=>[r.value&&p.value.length?(c(),y(e,{key:0,items:p.value,class:"grid gap-6 content-start md:max-w-lg md:mx-auto w-full"},{default:i(({item:m})=>[u(s,{recipe:m},null,8,["recipe"])]),_:1},8,["items"])):r.value?(c(),h("p",N,"No recipes found.")):(c(),h("div",j,[u(n,{icon:"search",class:"w-64 h-64 mx-auto text-gray-100"}),a[0]||(a[0]=f("p",{class:"text-2xl"},"Search Recipeasy",-1))]))]),_:1})}}};export{F as default};
