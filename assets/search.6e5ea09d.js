import{_ as e,a,b as s,c as t,d as r,e as l,f as o}from"./index.15067866.js";import{m as n,l as c,b as i,e as u,g as d,o as p,c as f,a as h,w as y,u as g,k as m,F as v}from"./vendor.ecab2019.js";const b=h("label",{for:"app-search",class:"sr-only"}," Search by ingredient, dish, keyword... ",-1),x={expose:[],setup(t){const r=n(),l=c(),o=i((()=>l.query.q||"")),x=u(null);function w({target:e}){r.push({name:"search",query:Object.assign({},l.query,{q:e.value})})}function k({target:e}){const a=Object.assign({},l.query);delete a.q,r.push({query:a}),x.value.focus()}return d((()=>x.value.focus())),(t,r)=>{const l=e,n=a,c=s;return p(),f(v,null,[h(n,{to:{name:"home"},"aria-label":"Go home"},{default:y((()=>[h(l,{icon:"arrow_back"})])),_:1}),b,h("input",{type:"search",id:"app-search",placeholder:"Ingredient, dish, keyword...",autocomplete:"off",value:g(o),onInput:w,ref:x,class:"\n      text-xl\n      flex-1\n      placeholder-gray-500\n      focus:outline-none\n      bg-transparent\n    "},null,40,["value"]),g(o)?(p(),f(c,{key:0,onClick:k,"aria-label":"clear search"},{default:y((()=>[h(l,{icon:"close"})])),_:1})):m("",!0)],64)}}},w={key:1},k={key:2,class:"text-center grid gap-4"},q={class:"relative"},_=h("p",{class:"text-2xl"},"Search Recipeasy",-1),C={expose:[],setup(a){const s=i((()=>c().query.q||"")),u=n().options.routes.filter((e=>e.path.startsWith("/recipes"))).reverse(),d=i((()=>u.filter((e=>{var a,t;const r=s.value.toLowerCase(),l=e.meta;return l.title.toLowerCase().includes(r)||(null==(a=l.ingredients)?void 0:a.find((e=>e.toLowerCase().includes(r))))||(null==(t=l.keywords)?void 0:t.find((e=>e.toLowerCase().includes(r))))}))));return(a,n)=>{const c=x,i=r,u=l,m=e,v=o,b=t;return p(),f(b,null,{header:y((()=>[h(c)])),default:y((()=>[g(s)&&g(d).length?(p(),f(u,{key:0,items:g(d),class:"grid gap-6"},{default:y((({item:e})=>[h(i,{recipe:e},null,8,["recipe"])])),_:1},8,["items"])):g(s)?(p(),f("p",w,"No recipes found.")):(p(),f("div",k,[h("div",q,[h(m,{icon:"search",class:"w-64 h-64 mx-auto filter grayscale opacity-10"}),h(v,{class:"w-16 h-16 mx-auto filter absolute top-18 left-28"})]),_]))])),_:1})}}};export default C;
