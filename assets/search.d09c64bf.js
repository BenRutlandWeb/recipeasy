import{_ as k,a as v,b,c as B,d as C,e as L}from"./index.11e9bd89.js";import{m as w,y as x,b as h,f as S,h as $,o as r,c as f,i as l,w as p,a as g,u,e as y,n as R,F as I}from"./vendor.4c1bcd87.js";const N=g("label",{for:"app-search",class:"sr-only"}," Search by ingredient, dish, keyword... ",-1),A=["value"],V={setup(q){const n=w(),i=x(),_=h(()=>i.query.q||""),e=S(null);function c({target:t}){n.push({name:"search",query:Object.assign({},i.query,{q:t.value})})}function a({target:t}){const s=Object.assign({},i.query);delete s.q,n.push({query:s}),e.value.focus()}return $(()=>e.value.focus()),(t,s)=>{const o=k,d=v,m=b;return r(),f(I,null,[l(d,{to:{name:"home"},"aria-label":"Go home"},{default:p(()=>[l(o,{icon:"arrow_back"})]),_:1}),N,g("input",{type:"search",id:"app-search",placeholder:"Ingredient, dish, keyword...",autocomplete:"off",value:u(_),onInput:c,ref_key:"appSearch",ref:e,class:"text-xl flex-1 placeholder-gray-500 focus:outline-none bg-transparent"},null,40,A),u(_)?(r(),y(m,{key:0,onClick:a,"aria-label":"clear search"},{default:p(()=>[l(o,{icon:"close"})]),_:1})):R("",!0)],64)}}},j={key:1},F={key:2,class:"text-center grid gap-4"},G=g("p",{class:"text-2xl"},"Search Recipeasy",-1),M={setup(q){const n=h(()=>x().query.q||""),i=w().options.routes.filter(e=>e.path.startsWith("/recipes")).reverse(),_=h(()=>i.filter(e=>{var t,s;const c=n.value.toLowerCase(),a=e.meta;return a.title.toLowerCase().includes(c)||((t=a.ingredients)==null?void 0:t.find(o=>o.toLowerCase().includes(c)))||((s=a.keywords)==null?void 0:s.find(o=>o.toLowerCase().includes(c)))}));return(e,c)=>{const a=V,t=C,s=L,o=k,d=B;return r(),y(d,null,{header:p(()=>[l(a)]),default:p(()=>[u(n)&&u(_).length?(r(),y(s,{key:0,items:u(_),class:"grid gap-6 content-start md:max-w-lg md:mx-auto w-full"},{default:p(({item:m})=>[l(t,{recipe:m},null,8,["recipe"])]),_:1},8,["items"])):u(n)?(r(),f("p",j,"No recipes found.")):(r(),f("div",F,[l(o,{icon:"search",class:"w-64 h-64 mx-auto text-gray-100"}),G]))]),_:1})}}};export{M as default};
