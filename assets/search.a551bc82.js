import{_ as e,a,b as s,c as t,d as r,e as n}from"./index.d79f8348.js";import{l,s as o,b as u,e as c,g as i,o as d,c as p,a as f,w as h,u as m,m as y,F as g}from"./vendor.89dd05f2.js";const x=f("label",{for:"app-search",class:"sr-only"}," Search by ingredient, dish, keyword... ",-1),v={expose:[],setup(t){const r=l(),n=o(),v=u((()=>n.query.q||"")),w=c(null);function b({target:e}){r.push({name:"search",query:Object.assign({},n.query,{q:e.value})})}function q({target:e}){const a=Object.assign({},n.query);delete a.q,r.push({query:a}),w.value.focus()}return i((()=>w.value.focus())),(t,r)=>{const n=e,l=a,o=s;return d(),p(g,null,[f(l,{to:{name:"home"},"aria-label":"Go home"},{default:h((()=>[f(n,{icon:"arrow_back"})])),_:1}),x,f("input",{type:"search",id:"app-search",placeholder:"Ingredient, dish, keyword...",autocomplete:"off",value:m(v),onInput:b,ref:w,class:"\n      text-xl\n      flex-1\n      placeholder-gray-500\n      focus:outline-none\n      bg-transparent\n    "},null,40,["value"]),m(v)?(d(),p(o,{key:0,onClick:q,"aria-label":"clear search"},{default:h((()=>[f(n,{icon:"close"})])),_:1})):y("",!0)],64)}}},w={key:1},b={key:2,class:"text-center grid gap-4"},q=f("p",{class:"text-2xl"},"Search Recipeasy",-1),k={expose:[],setup(a){const s=u((()=>o().query.q||"")),c=l().options.routes.filter((e=>e.path.startsWith("/recipes"))).reverse(),i=u((()=>c.filter((e=>{var a,t;const r=s.value.toLowerCase(),n=e.meta;return n.title.toLowerCase().includes(r)||(null==(a=n.ingredients)?void 0:a.find((e=>e.toLowerCase().includes(r))))||(null==(t=n.keywords)?void 0:t.find((e=>e.toLowerCase().includes(r))))}))));return(a,l)=>{const o=v,u=r,c=n,y=e,g=t;return d(),p(g,null,{header:h((()=>[f(o)])),default:h((()=>[m(s)&&m(i).length?(d(),p(c,{key:0,items:m(i),class:"grid gap-6 md:max-w-lg md:mx-auto w-full"},{default:h((({item:e})=>[f(u,{recipe:e},null,8,["recipe"])])),_:1},8,["items"])):m(s)?(d(),p("p",w,"No recipes found.")):(d(),p("div",b,[f(y,{icon:"search",class:"w-64 h-64 mx-auto text-gray-100"}),q]))])),_:1})}}};export default k;
