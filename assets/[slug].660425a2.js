import{o as e,c as l,i as t,F as n,f as s,j as a,k as i,d as u,l as o,w as r,_ as c,m as d}from"./index.fed0c32f.js";const m=t("h2",null,"Ingredients",-1),g={expose:[],props:{html:String},setup:s=>(a,i)=>(e(),l(n,null,[m,t("div",{innerHTML:s.html,class:"ingredients"},null,8,["innerHTML"])],64))},h={class:"theme-switch"},v=u(" Cook mode "),p={expose:[],setup(t){const n="wakeLock"in navigator,u=s(!1);if(n){let e=null;a(u,(async function(l){if(l)try{e=await navigator.wakeLock.request("screen"),e.addEventListener("release",(()=>{u.value=!1}))}catch(t){u.value=!1}else e.release().then((()=>e=null))})),document.addEventListener("visibilitychange",(()=>{null!==e&&"visible"===document.visibilityState&&(u.value=!0)}))}return(t,s)=>{const a=o;return e(),l("label",h,[n?(e(),l(a,{key:0,modelValue:u.value,"onUpdate:modelValue":s[1]||(s[1]=e=>u.value=e)},null,8,["modelValue"])):i("",!0),v])}}};const f={class:"method-title"},L=t("h2",null,"Method",-1),k={expose:[],props:{html:String},setup:s=>(a,i)=>{const u=p;return e(),l(n,null,[t("div",f,[L,t(u)]),t("div",{innerHTML:s.html,class:"method"},null,8,["innerHTML"])],64)}};const S={expose:[],props:{slug:String},setup(n){const a=n,u=s({});return localStorage.getItem(a.slug)?u.value=JSON.parse(localStorage.getItem(a.slug)):fetch(`https://benrutlandweb.co.uk/wp-json/api/recipes/${a.slug}`).then((e=>e.json())).then((e=>u.value=e)).then((e=>localStorage.setItem(a.slug,JSON.stringify(e)))),(n,s)=>{const a=d,o=g,m=k,h=c;return e(),l(h,null,{header:r((()=>[t(a,{title:u.value.name},null,8,["title"])])),default:r((()=>[u.value.image?(e(),l("img",{key:0,src:u.value.image,loading:"lazy",class:"img"},null,8,["src"])):i("",!0),t("div",{innerHTML:u.value.description},null,8,["innerHTML"]),t(o,{html:u.value.ingredients},null,8,["html"]),t(m,{html:u.value.method},null,8,["html"])])),_:1})}}};export default S;
