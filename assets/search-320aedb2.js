import{u as k,a as w,c as h,r as B,o as b,b as r,d as f,e as l,w as i,f as g,g as u,h as y,i as v,F as C,_ as x,j as L,k as S,l as $,m as R,n as A}from"./index-0487cab3.js";const I=g("label",{for:"app-search",class:"sr-only"}," Search by ingredient, dish, keyword... ",-1),N=["value"],j={__name:"SearchAppBar",setup(q){const o=k(),_=w(),p=h(()=>_.query.q||""),e=B(null);function c({target:t}){o.push({name:"search",query:Object.assign({},_.query,{q:t.value})})}function n({target:t}){const s=Object.assign({},_.query);delete s.q,o.push({query:s}),e.value.focus()}return b(()=>e.value.focus()),(t,s)=>{const a=x,d=L,m=S;return r(),f(C,null,[l(d,{to:{name:"home"},"aria-label":"Go home"},{default:i(()=>[l(a,{icon:"arrow_back"})]),_:1}),I,g("input",{type:"search",id:"app-search",placeholder:"Ingredient, dish, keyword...",autocomplete:"off",value:u(p),onInput:c,ref_key:"appSearch",ref:e,class:"text-xl flex-1 placeholder-gray-500 focus:outline-none bg-transparent"},null,40,N),u(p)?(r(),y(m,{key:0,onClick:n,"aria-label":"clear search"},{default:i(()=>[l(a,{icon:"close"})]),_:1})):v("",!0)],64)}}},V={key:1},F={key:2,class:"text-center grid gap-4"},G=g("p",{class:"text-2xl"},"Search Recipeasy",-1),E={__name:"search",setup(q){const o=h(()=>w().query.q||""),_=k().options.routes.filter(e=>e.path.startsWith("/recipes")).reverse(),p=h(()=>_.filter(e=>{var t,s;const c=o.value.toLowerCase(),n=e.meta;return n.title.toLowerCase().includes(c)||((t=n.ingredients)==null?void 0:t.find(a=>a.toLowerCase().includes(c)))||((s=n.keywords)==null?void 0:s.find(a=>a.toLowerCase().includes(c)))}));return(e,c)=>{const n=j,t=R,s=A,a=x,d=$;return r(),y(d,null,{header:i(()=>[l(n)]),default:i(()=>[u(o)&&u(p).length?(r(),y(s,{key:0,items:u(p),class:"grid gap-6 content-start md:max-w-lg md:mx-auto w-full"},{default:i(({item:m})=>[l(t,{recipe:m},null,8,["recipe"])]),_:1},8,["items"])):u(o)?(r(),f("p",V,"No recipes found.")):(r(),f("div",F,[l(a,{icon:"search",class:"w-64 h-64 mx-auto text-gray-100"}),G]))]),_:1})}}};export{E as default};
