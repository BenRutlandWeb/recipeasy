import{_ as e,a,b as s,c as t,d as r,e as n}from"./index.5dfb5db6.js";import{m as l,y as o,b as u,f as c,h as i,o as d,c as p,i as f,w as h,a as y,u as m,e as g,n as b,F as v}from"./vendor.cb0d3064.js";const w=y("label",{for:"app-search",class:"sr-only"}," Search by ingredient, dish, keyword... ",-1),x=["value"],q={setup(t){const r=l(),n=o(),q=u((()=>n.query.q||"")),k=c(null);function _({target:e}){r.push({name:"search",query:Object.assign({},n.query,{q:e.value})})}function C({target:e}){const a=Object.assign({},n.query);delete a.q,r.push({query:a}),k.value.focus()}return i((()=>k.value.focus())),(t,r)=>{const n=e,l=a,o=s;return d(),p(v,null,[f(l,{to:{name:"home"},"aria-label":"Go home"},{default:h((()=>[f(n,{icon:"arrow_back"})])),_:1}),w,y("input",{type:"search",id:"app-search",placeholder:"Ingredient, dish, keyword...",autocomplete:"off",value:m(q),onInput:_,ref:k,class:"\n      text-xl\n      flex-1\n      placeholder-gray-500\n      focus:outline-none\n      bg-transparent\n    "},null,40,x),m(q)?(d(),g(o,{key:0,onClick:C,"aria-label":"clear search"},{default:h((()=>[f(n,{icon:"close"})])),_:1})):b("",!0)],64)}}},k={key:1},_={key:2,class:"text-center grid gap-4"},C=y("p",{class:"text-2xl"},"Search Recipeasy",-1),j={setup(a){const s=u((()=>o().query.q||"")),c=l().options.routes.filter((e=>e.path.startsWith("/recipes"))).reverse(),i=u((()=>c.filter((e=>{var a,t;const r=s.value.toLowerCase(),n=e.meta;return n.title.toLowerCase().includes(r)||(null==(a=n.ingredients)?void 0:a.find((e=>e.toLowerCase().includes(r))))||(null==(t=n.keywords)?void 0:t.find((e=>e.toLowerCase().includes(r))))}))));return(a,l)=>{const o=q,u=r,c=n,y=e,b=t;return d(),g(b,null,{header:h((()=>[f(o)])),default:h((()=>[m(s)&&m(i).length?(d(),g(c,{key:0,items:m(i),class:"grid gap-6 md:max-w-lg md:mx-auto w-full"},{default:h((({item:e})=>[f(u,{recipe:e},null,8,["recipe"])])),_:1},8,["items"])):m(s)?(d(),p("p",k,"No recipes found.")):(d(),p("div",_,[f(y,{icon:"search",class:"w-64 h-64 mx-auto text-gray-100"}),C]))])),_:1})}}};export{j as default};
