import{_ as b,a as E,b as N,c as V,d as z,e as D,f as P}from"./AppBarLink-C1PhUTAw.js";import{r as x,w as j,c as u,a as $,o as l,b as c,d as k,n as y,e as _,t as d,F as w,_ as M,f as v,g as a,h as A,u as g,i as G,j as C,k as T,l as H,m as O}from"./index-BAWPPp3v.js";const Q=["aria-checked"],J={key:0,class:"w-4 h-4 rounded-full bg-pink-600 absolute top-0 right-0"},K={key:1,class:"w-4 h-4 rounded-full bg-pink-600 absolute top-0 right-0 animate-ping"},U={__name:"CookModeToggle",setup(e){const t="wakeLock"in navigator,n=x(!1);if(t){let s=null;async function r(i){if(i)try{s=await navigator.wakeLock.request("screen"),s.addEventListener("release",()=>{n.value=!1})}catch{n.value=!1}else s.release().then(()=>s=null)}j(n,r),document.addEventListener("visibilitychange",()=>{s!==null&&document.visibilityState==="visible"&&(n.value=!0)})}function o(){n.value=!n.value}return(s,r)=>{const i=b;return t?(l(),u("button",{key:0,type:"button",role:"switch",class:y(["bg-white text-gray-700 border-2 border-gray-200 dark:bg-gray-900 dark:text-gray-300 dark:border-gray-500 fixed bottom-6 right-6 rounded-full py-3 pl-4 pr-6 shadow-lg z-50 leading-3 flex gap-2 items-center",{"border-pink-600":n.value,"dark:border-pink-600":n.value}]),"aria-label":"Toggle cook mode","aria-checked":n.value?"true":"false",onClick:o},[n.value?(l(),u("div",J)):$("",!0),n.value?(l(),u("div",K)):$("",!0),c(i,{icon:n.value?"outdoor_grill":"outdoor_grill_border"},null,8,["icon"]),r[0]||(r[0]=k(" Cook mode ",-1))],10,Q)):$("",!0)}}},F={__name:"RecipeAppBar",props:{title:{type:String}},setup(e){return(t,n)=>{const o=b,s=E,r=N,i=V;return l(),u(w,null,[c(s,{to:{name:"home"},"aria-label":"Go home"},{default:_(()=>[c(o,{icon:"arrow_back"})]),_:1}),c(r,null,{default:_(()=>[k(d(e.title),1)]),_:1}),c(i)],64)}}},W={};function X(e,t){const n=F,o=z,s=D,r=U,i=P;return l(),u(w,null,[c(o,null,{default:_(()=>[v(e.$slots,"header",{},()=>[c(n)])]),_:3}),c(s,{class:"md:grid-cols-3 md:items-start"},{default:_(()=>[v(e.$slots,"default")]),_:3}),c(r),c(i)],64)}const Y=M(W,[["render",X]]),Z=["aria-checked"],ee={__name:"Method",setup(e){const t=x(!1);return(n,o)=>{const s=b;return l(),u("button",{type:"button",role:"switch",onClick:o[0]||(o[0]=r=>t.value=!t.value),"aria-label":"Toggle ingredient","aria-checked":t.value?"true":"false",class:"w-full text-start grid items-center gap-2"},[c(s,{class:y(["absolute top-0 right-0",{"text-pink-600":t.value,"opacity-20":!t.value}]),icon:t.value?"check_circle_outline":"circle"},null,8,["class","icon"]),a("span",{class:y({"opacity-60":t.value})},[v(n.$slots,"default")],2)],8,Z)}}},R=x(1),L=x(1);function te(e){R.value=e,L.value=e}function q(){const e=A(()=>L.value/R.value);return{serves:L,originalServes:R,scale:e}}const ne={"1/2":"½","1/3":"⅓","2/3":"⅔","1/4":"¼","3/4":"¾","1/5":"⅕","2/5":"⅖","3/5":"⅗","4/5":"⅘","1/6":"⅙","5/6":"⅚","1/8":"⅛","3/8":"⅜","5/8":"⅝","7/8":"⅞"},oe=e=>{if(e%1===0)return e.toString();const t=Math.floor(e),n=e-t,o=[2,3,4,5,6,8];let s=null,r=1/0;if(o.forEach(f=>{const h=Math.round(n*f),S=h/f,B=Math.abs(n-S);h>0&&B<r&&(s={num:h,den:f},r=B)}),!s)return e.toFixed(2);const i=`${s.num}/${s.den}`,m=ne[i]||i;return t>0?`${t}${m}`:m},se=["aria-checked"],re={__name:"Ingredient",props:{quantity:{type:[Number,null]},unit:{type:String}},setup(e){const t=e,{scale:n}=q(),o=A(()=>t.quantity?oe(t.quantity*n.value):""),s=x(!1);return(r,i)=>{const m=b;return l(),u("button",{type:"button",role:"switch",onClick:i[0]||(i[0]=f=>s.value=!s.value),"aria-label":"Toggle ingredient","aria-checked":s.value?"true":"false",class:"w-full text-start flex gap-2"},[c(m,{class:y(["shrink-0 mt-0.5",{"text-pink-600":s.value,"opacity-20":!s.value}]),icon:s.value?"check_circle_outline":"circle"},null,8,["class","icon"]),a("span",{class:y({"opacity-60":s.value})},[k(d(o.value)+d(e.unit)+" ",1),v(r.$slots,"default")],2)],8,se)}}},ae={class:"inline-flex gap-2 items-center"},ce=["disabled"],le={class:"w-6 text-center"},ie={__name:"ServesInput",setup(e){const{serves:t}=q();function n(){t.value>1&&t.value--}function o(){t.value++}return(s,r)=>{const i=b;return l(),u("span",ae,[a("button",{type:"button",onClick:n,disabled:g(t)<=1,class:"leading-none border border-gray-300 dark:border-gray-700 rounded disabled:opacity-20","aria-label":"Decrement servings"},[c(i,{icon:"minus"})],8,ce),a("span",le,d(g(t)),1),a("button",{type:"button",onClick:o,class:"leading-none border border-gray-300 dark:border-gray-700 rounded","aria-label":"Increment servings"},[c(i,{icon:"add"})])])}}},ue={},de={class:"flex flex-wrap gap-2"};function _e(e,t){return l(),u("div",de,[v(e.$slots,"default")])}const pe=M(ue,[["render",_e]]),me={__name:"BaseChip",props:{term:{type:String}},setup(e){return(t,n)=>{const o=G("RouterLink");return l(),C(o,{to:{name:"search",query:{q:e.term.toLowerCase()}},class:"chip rounded py-0.5 px-2 text-sm bg-gray-100 dark:bg-gray-800 capitalize"},{default:_(()=>[v(t.$slots,"default")]),_:3},8,["to"])}}},ge={__name:"RecipeChips",props:{chips:{type:Array}},setup(e){return(t,n)=>{const o=me,s=pe;return l(),C(s,null,{default:_(()=>[(l(!0),u(w,null,T(e.chips.sort(),r=>(l(),C(o,{key:r,term:r},{default:_(()=>[k(d(r),1)]),_:2},1032,["term"]))),128))]),_:1})}}},fe={__name:"ShareButton",setup(e){async function t(){try{await navigator.share({url:window.location.href})}catch{}}const n=x(navigator.canShare);return(o,s)=>{const r=b;return n.value?(l(),u("button",{key:0,type:"button",onClick:t,"aria-label":"Share recipe"},[c(r,{icon:"share"})])):$("",!0)}}},he=["aria-checked"],be={__name:"FavouriteRecipeToggle",setup(e){const{toggle:t,has:n}=H("favourites"),s=O().meta.slug,r=n(s);function i(){t(s)}return(m,f)=>{const h=b;return l(),u("button",{type:"button",role:"switch",onClick:i,"aria-label":"Toggle favourite","aria-checked":g(r)?"true":"false"},[c(h,{class:y({"text-pink-600":g(r)}),icon:g(r)?"favorite":"favorite_border"},null,8,["class","icon"])],8,he)}}},ke={},ye={class:"flex border divide-x rounded dark:border-gray-700 dark:divide-gray-700"};function ve(e,t){const n=be,o=fe;return l(),u("div",ye,[c(n,{class:"flex-1 text-center p-2"}),c(o,{class:"flex-1 text-center p-2"})])}const xe=M(ke,[["render",ve]]),$e=["src"],we={__name:"RecipeImage",props:{src:String},setup(e){return(t,n)=>(l(),u("img",{src:e.src,alt:"",width:"360",height:"360",class:"shadow block w-full rounded dark:filter dark:brightness-75 dark:contrast-110"},null,8,$e))}},I=e=>{if(e<60)return`${e}m`;if(e===60)return"1h";const t=Math.floor(e/60),n=e%60;return`${t}h ${n}m`},Be={class:"grid gap-6"},Ce={class:"grid gap-6 md:col-span-2"},Se={class:"text-2xl font-semibold"},Ie={class:"border-b border-t border-dotted dark:border-gray-800 h-10"},Te={class:"py-1"},Re={class:"border-b border-t border-dotted dark:border-gray-800 h-10"},Le={class:"text-start py-1"},Me={class:"border-b border-t border-dotted dark:border-gray-800 h-10"},Ae={class:"py-1"},Fe={class:"border-b border-t border-dotted dark:border-gray-800 h-10"},qe={class:"py-1"},Ee={class:"text-lg grid gap-6"},Ne={key:0,class:"block text-base text-gray-500 dark:text-gray-400"},Ve={class:"text-xl grid gap-16"},Pe={__name:"recipe",props:{recipe:{type:Object}},setup(e){return te(e.recipe.serves),(n,o)=>{const s=F,r=we,i=xe,m=ge,f=ie,h=re,S=ee,B=Y;return l(),C(B,null,{header:_(()=>[c(s,{title:e.recipe.title},null,8,["title"])]),default:_(()=>[a("div",Be,[c(r,{src:e.recipe.image,slug:e.recipe.slug},null,8,["src","slug"]),c(i),c(m,{chips:e.recipe.keywords},null,8,["chips"])]),a("div",Ce,[a("h1",Se,d(e.recipe.title),1),a("div",null,d(e.recipe.description),1),a("table",null,[a("tbody",null,[a("tr",Ie,[o[0]||(o[0]=a("th",{class:"text-start py-1"},"Serves",-1)),a("td",Te,[c(f)])]),a("tr",Re,[o[1]||(o[1]=a("th",{class:"text-start py-1"},"Total time",-1)),a("th",Le,d(g(I)(e.recipe.prepTime+e.recipe.cookTime)),1)]),a("tr",Me,[o[2]||(o[2]=a("th",{class:"text-start font-normal py-1"},"Preparation time",-1)),a("td",Ae,d(g(I)(e.recipe.prepTime)),1)]),a("tr",Fe,[o[3]||(o[3]=a("th",{class:"text-start font-normal py-1"},"Cook time",-1)),a("td",qe,d(g(I)(e.recipe.cookTime)),1)])])]),o[4]||(o[4]=a("h2",{class:"text-xl font-semibold mt-8"},"Ingredients",-1)),a("ul",Ee,[(l(!0),u(w,null,T(e.recipe.ingredients,p=>(l(),u("li",{key:p.name},[c(h,{quantity:p.quantity,unit:p.unit},{default:_(()=>[k(d(p.name)+" ",1),p.description?(l(),u("span",Ne,d(p.description),1)):$("",!0)]),_:2},1032,["quantity","unit"])]))),128))]),o[5]||(o[5]=a("h2",{class:"text-xl font-semibold mt-8"},"Method",-1)),a("ol",Ve,[(l(!0),u(w,null,T(e.recipe.methods,p=>(l(),u("li",{key:p,class:"relative"},[c(S,null,{default:_(()=>[k(d(p),1)]),_:2},1024)]))),128))])])]),_:1})}}};export{Pe as default};
