import{u as k,a as w,c as h,r as v,o as B,b as r,d as f,e as _,w as p,f as g,g as u,h as y,i as b,F as C,_ as x,j as L,k as S,l as $,m as R,n as A}from"./index.f41a52e1.js";const I=g("label",{for:"app-search",class:"sr-only"}," Search by ingredient, dish, keyword... ",-1),N=["value"],j={__name:"SearchAppBar",setup(q){const n=k(),l=w(),i=h(()=>l.query.q||""),e=v(null);function c({target:t}){n.push({name:"search",query:Object.assign({},l.query,{q:t.value})})}function o({target:t}){const s=Object.assign({},l.query);delete s.q,n.push({query:s}),e.value.focus()}return B(()=>e.value.focus()),(t,s)=>{const a=x,d=L,m=S;return r(),f(C,null,[_(d,{to:{name:"home"},"aria-label":"Go home"},{default:p(()=>[_(a,{icon:"arrow_back"})]),_:1}),I,g("input",{type:"search",id:"app-search",placeholder:"Ingredient, dish, keyword...",autocomplete:"off",value:u(i),onInput:c,ref_key:"appSearch",ref:e,class:"text-xl flex-1 placeholder-gray-500 focus:outline-none bg-transparent"},null,40,N),u(i)?(r(),y(m,{key:0,onClick:o,"aria-label":"clear search"},{default:p(()=>[_(a,{icon:"close"})]),_:1})):b("",!0)],64)}}},V={key:1},F={key:2,class:"text-center grid gap-4"},G=g("p",{class:"text-2xl"},"Search Recipeasy",-1),E={__name:"search",setup(q){const n=h(()=>w().query.q||""),l=k().options.routes.filter(e=>e.path.startsWith("/recipes")).reverse(),i=h(()=>l.filter(e=>{var t,s;const c=n.value.toLowerCase(),o=e.meta;return o.title.toLowerCase().includes(c)||((t=o.ingredients)==null?void 0:t.find(a=>a.toLowerCase().includes(c)))||((s=o.keywords)==null?void 0:s.find(a=>a.toLowerCase().includes(c)))}));return(e,c)=>{const o=j,t=R,s=A,a=x,d=$;return r(),y(d,null,{header:p(()=>[_(o)]),default:p(()=>[u(n)&&u(i).length?(r(),y(s,{key:0,items:u(i),class:"grid gap-6 content-start md:max-w-lg md:mx-auto w-full"},{default:p(({item:m})=>[_(t,{recipe:m},null,8,["recipe"])]),_:1},8,["items"])):u(n)?(r(),f("p",V,"No recipes found.")):(r(),f("div",F,[_(a,{icon:"search",class:"w-64 h-64 mx-auto text-gray-100"}),G]))]),_:1})}}};export{E as default};
