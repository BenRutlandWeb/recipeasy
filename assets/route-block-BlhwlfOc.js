import{r as f,p as I,b as i,h as b,d as l,e as s,n as w,_ as g,q as C,s as v,v as h,g as B,w as m,F as k,x as R,t as x,f as u,y as V,a as S,z as L,A as M,B as D,i as N,C as z,D as E,c as F,E as O,G as q,H as G}from"./index-C5-2gTxG.js";const U=["aria-checked"],H={key:0,class:"w-4 h-4 rounded-full bg-pink-600 absolute top-0 right-0"},J={key:1,class:"w-4 h-4 rounded-full bg-pink-600 absolute top-0 right-0 animate-ping"},P={__name:"CookModeToggle",setup(t){const a="wakeLock"in navigator,e=f(!1);if(a){let n=null;async function c(r){if(r)try{n=await navigator.wakeLock.request("screen"),n.addEventListener("release",()=>{e.value=!1})}catch{e.value=!1}else n.release().then(()=>n=null)}I(e,c),document.addEventListener("visibilitychange",()=>{n!==null&&document.visibilityState==="visible"&&(e.value=!0)})}function o(){e.value=!e.value}return(n,c)=>{const r=g;return a?(l(),i("button",{key:0,type:"button",role:"switch",class:C(["bg-white text-gray-700 border-2 border-gray-200 dark:bg-gray-900 dark:text-gray-300 dark:border-gray-500 fixed bottom-6 right-6 rounded-full py-3 pl-4 pr-6 shadow-lg z-50 leading-3 flex gap-2 items-center",{"border-pink-600":e.value,"dark:border-pink-600":e.value}]),"aria-label":"Toggle cook mode","aria-checked":e.value?"true":"false",onClick:o},[e.value?(l(),i("div",H)):b("",!0),e.value?(l(),i("div",J)):b("",!0),s(r,{icon:e.value?"outdoor_grill":"outdoor_grill_border"},null,8,["icon"]),c[0]||(c[0]=w(" Cook mode "))],10,U)):b("",!0)}}},j={},K={class:"flex flex-wrap gap-2"};function Q(t,a){return l(),i("div",K,[h(t.$slots,"default")])}const W=v(j,[["render",Q]]),X={},Y={class:"chip rounded py-0.5 px-2 text-sm bg-gray-100 dark:bg-gray-800 capitalize"};function Z(t,a){return l(),i("span",Y,[h(t.$slots,"default")])}const ee=v(X,[["render",Z]]),te={__name:"RecipeChips",props:{chips:{type:Array}},setup(t){return(a,e)=>{const o=ee,n=W;return l(),B(n,null,{default:m(()=>[(l(!0),i(k,null,R(t.chips.sort(),c=>(l(),B(o,{key:c},{default:m(()=>[w(x(c),1)]),_:2},1024))),128))]),_:1})}}},oe={class:"bg-white dark:bg-gray-850 m-auto w-full max-w-screen-sm rounded"},ne={class:"flex justify-between gap-4 p-4"},ae={class:"font-bold"},se={class:"p-4"},ce={__name:"AppModal",props:{modelValue:Boolean,title:String},emits:["update:modelValue"],setup(t,{emit:a}){const e=a;function o(){e("update:modelValue",!1)}return(n,c)=>{const r=g;return t.modelValue?(l(),i("div",{key:0,class:"bg-black/50 fixed inset-0 z-50 grid place-items-center p-4",onClick:V(o,["self"])},[u("div",oe,[u("div",ne,[u("p",ae,x(t.title),1),u("button",{type:"button",onClick:o,"aria-label":"Close"},[s(r,{icon:"close"})])]),u("div",se,[h(n.$slots,"default")])])])):b("",!0)}}},re={class:"flex border divide-x rounded dark:border-gray-700 dark:divide-gray-700"},le={__name:"AddToCalendarButton",props:{open:Boolean},setup(t){const a=S(),e=f(new Date().toISOString().split("T")[0]),o=f(!1);async function n(){const c=encodeURIComponent(a.meta.title),r=window.location.href,_=e.value.replaceAll("-",""),p=new Date(e.value);p.setDate(p.getDate()+1);const d=p.toISOString().split("T")[0].replaceAll("-","");try{window.open(`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${c}&dates=${_}/${d}&details=${r}`,"_blank"),o.value=!1}catch{}}return(c,r)=>{const _=g,p=ce;return l(),i(k,null,[u("button",L({type:"button",onClick:r[0]||(r[0]=d=>o.value=!0),"aria-label":"Share recipe"},c.$attrs),[s(_,{icon:"calendar"})],16),s(p,{modelValue:o.value,"onUpdate:modelValue":r[2]||(r[2]=d=>o.value=d),title:"Select a date"},{default:m(()=>[u("div",re,[M(u("input",{type:"date","onUpdate:modelValue":r[1]||(r[1]=d=>e.value=d),autofocus:"",class:"w-full p-2 placeholder-gray-500 focus:outline-none bg-transparent"},null,512),[[D,e.value]]),u("button",{type:"button",class:"px-4 py-2",onClick:n,"aria-label":"Add to calendar"},"Add")])]),_:1},8,["modelValue"])],64)}}},ie=v(le,[["__scopeId","data-v-4408d747"]]),ue={__name:"ShareButton",setup(t){async function a(){try{await navigator.share({url:window.location.href})}catch{}}return(e,o)=>{const n=g;return l(),i("button",{type:"button",onClick:a,"aria-label":"Share recipe"},[s(n,{icon:"share"})])}}},_e=["aria-checked"],de={__name:"FavouriteRecipeToggle",setup(t){const a=JSON.parse(localStorage.getItem("favourites")??"{}"),e=S(),o=f(a[e.name]);function n(){a[e.name]?(delete a[e.name],o.value=!1):(a[e.name]=!0,o.value=!0),localStorage.setItem("favourites",JSON.stringify(a))}return(c,r)=>{const _=g;return l(),i("button",{type:"button",role:"switch",onClick:n,"aria-label":"Toggle favourite","aria-checked":o.value?"true":"false"},[s(_,{class:C({"text-pink-600":o.value}),icon:o.value?"favorite":"favorite_border"},null,8,["class","icon"])],8,_e)}}},pe={},me={class:"flex border divide-x rounded dark:border-gray-700 dark:divide-gray-700"};function fe(t,a){const e=de,o=ue,n=ie;return l(),i("div",me,[s(e,{class:"flex-1 text-center p-2"}),s(o,{class:"flex-1 text-center p-2"}),s(n,{class:"flex-1 text-center p-2"})])}const ge=v(pe,[["render",fe]]),he=["src"],ve={__name:"RecipeImage",props:{src:String},setup(t){return(a,e)=>(l(),i("img",{src:t.src,loading:"lazy",width:"360",height:"360",class:"shadow block w-full rounded dark:filter dark:brightness-75 dark:contrast-110"},null,8,he))}},be={};function ke(t,a){const e=g,o=N,n=z,c=E;return l(),i(k,null,[s(o,{to:{name:"home"},"aria-label":"Go home"},{default:m(()=>[s(e,{icon:"arrow_back"})]),_:1}),s(n,null,{default:m(()=>[w(x(t.$route.meta.title),1)]),_:1}),s(c)],64)}const $e=v(be,[["render",ke]]),$=f(1),y=f(1);function ye(t){$.value=t,y.value=t}function Ce(){const t=F(()=>y.value/$.value);return{serves:y,originalServes:$,scale:t}}const we={class:"grid gap-6"},xe={class:"grid gap-6 md:col-span-2"},Se={__name:"RecipeLayout",props:{serves:{type:Number,required:!1,default:1}},setup(t){return ye(t.serves),(e,o)=>{const n=$e,c=O,r=ve,_=ge,p=te,d=q,A=P,T=G;return l(),i(k,null,[s(c,null,{default:m(()=>[h(e.$slots,"header",{},()=>[s(n)])]),_:3}),s(d,{class:"md:grid-cols-3 md:items-start"},{default:m(()=>[u("div",we,[s(r,{src:e.$route.meta.image,alt:e.$route.meta.title},null,8,["src","alt"]),s(_),s(p,{chips:e.$route.meta.keywords},null,8,["chips"])]),u("div",xe,[h(e.$slots,"default")])]),_:3}),s(A),s(T)],64)}}},Ae={};export{Se as _,Ae as b,Ce as u};
