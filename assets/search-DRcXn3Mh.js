import{u as g,a as k,c as d,r as q,o as B,b as h,d as u,e as l,f,g as y,h as b,w as p,_ as v,i as C,j as L,F as S,k as R,l as $,m as A}from"./index-BdCT_jQP.js";const I=["value"],N={__name:"SearchAppBar",setup(w){const i=g(),s=k(),_=d(()=>s.query.q||""),r=q(null);function c({target:t}){i.push({name:"search",query:Object.assign({},s.query,{q:t.value})})}function a({target:t}){const e=Object.assign({},s.query);delete e.q,i.push({query:e}),r.value.focus()}return B(()=>r.value.focus()),(t,e)=>{const o=v,n=C,m=L;return u(),h(S,null,[l(n,{to:{name:"home"},"aria-label":"Go home"},{default:p(()=>[l(o,{icon:"arrow_back"})]),_:1}),e[0]||(e[0]=f("label",{for:"app-search",class:"sr-only"}," Search by ingredient, dish, keyword... ",-1)),f("input",{type:"search",id:"app-search",placeholder:"Ingredient, dish, keyword...",autocomplete:"off",value:_.value,onInput:c,ref_key:"appSearch",ref:r,class:"text-xl flex-1 placeholder-gray-500 focus:outline-none bg-transparent"},null,40,I),_.value?(u(),y(m,{key:0,onClick:a,"aria-label":"clear search"},{default:p(()=>[l(o,{icon:"close"})]),_:1})):b("",!0)],64)}}},j={key:1},V={key:2,class:"text-center grid gap-4"},G={__name:"search",setup(w){const i=k(),s=d(()=>i.query.q||""),_=g().options.routes.filter(c=>c.path.startsWith("/recipes")).reverse(),r=d(()=>_.filter(c=>{var e,o;const a=s.value.toLowerCase(),t=c.meta;return t.title.toLowerCase().includes(a)||((e=t.ingredients)==null?void 0:e.find(n=>n.toLowerCase().includes(a)))||((o=t.keywords)==null?void 0:o.find(n=>n.toLowerCase().includes(a)))}));return(c,a)=>{const t=N,e=A,o=$,n=v,m=R;return u(),y(m,null,{header:p(()=>[l(t)]),default:p(()=>[s.value&&r.value.length?(u(),y(o,{key:0,items:r.value,class:"grid gap-6 content-start md:max-w-lg md:mx-auto w-full"},{default:p(({item:x})=>[l(e,{recipe:x},null,8,["recipe"])]),_:1},8,["items"])):s.value?(u(),h("p",j,"No recipes found.")):(u(),h("div",V,[l(n,{icon:"search",class:"w-64 h-64 mx-auto text-gray-100"}),a[0]||(a[0]=f("p",{class:"text-2xl"},"Search Recipeasy",-1))]))]),_:1})}}};export{G as default};
