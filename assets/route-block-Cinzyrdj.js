import{r as v,n as C,b as i,h,d as l,e as s,p as $,_ as m,q as x,s as f,v as g,g as w,w as d,F as b,x as S,t as y,f as _,y as A,a as B,z as T,A as I,B as V,i as L,C as R,D as M,E as z,G as E,H as F}from"./index-DCJylOiI.js";const N=["aria-checked"],D={key:0,class:"w-4 h-4 rounded-full bg-pink-600 absolute top-0 right-0"},G={key:1,class:"w-4 h-4 rounded-full bg-pink-600 absolute top-0 right-0 animate-ping"},O={__name:"CookModeToggle",setup(o){const a="wakeLock"in navigator,e=v(!1);if(a){let n=null;async function c(r){if(r)try{n=await navigator.wakeLock.request("screen"),n.addEventListener("release",()=>{e.value=!1})}catch{e.value=!1}else n.release().then(()=>n=null)}C(e,c),document.addEventListener("visibilitychange",()=>{n!==null&&document.visibilityState==="visible"&&(e.value=!0)})}function t(){e.value=!e.value}return(n,c)=>{const r=m;return a?(l(),i("button",{key:0,type:"button",role:"switch",class:x(["bg-white text-gray-700 border-2 border-gray-200 dark:bg-gray-900 dark:text-gray-300 dark:border-gray-500 fixed bottom-6 right-6 rounded-full py-3 pl-4 pr-6 shadow-lg z-50 leading-3 flex gap-2 items-center",{"border-pink-600":e.value,"dark:border-pink-600":e.value}]),"aria-label":"Toggle cook mode","aria-checked":e.value?"true":"false",onClick:t},[e.value?(l(),i("div",D)):h("",!0),e.value?(l(),i("div",G)):h("",!0),s(r,{icon:e.value?"outdoor_grill":"outdoor_grill_border"},null,8,["icon"]),c[0]||(c[0]=$(" Cook mode "))],10,N)):h("",!0)}}},U={},q={class:"flex flex-wrap gap-2"};function H(o,a){return l(),i("div",q,[g(o.$slots,"default")])}const J=f(U,[["render",H]]),P={},j={class:"chip rounded py-0.5 px-2 text-sm bg-gray-100 dark:bg-gray-800 capitalize"};function K(o,a){return l(),i("span",j,[g(o.$slots,"default")])}const Q=f(P,[["render",K]]),W={__name:"RecipeChips",props:{chips:{type:Array}},setup(o){return(a,e)=>{const t=Q,n=J;return l(),w(n,null,{default:d(()=>[(l(!0),i(b,null,S(o.chips.sort(),c=>(l(),w(t,{key:c},{default:d(()=>[$(y(c),1)]),_:2},1024))),128))]),_:1})}}},X={class:"bg-white dark:bg-gray-850 m-auto w-full max-w-screen-sm rounded"},Y={class:"flex justify-between gap-4 p-4"},Z={class:"font-bold"},ee={class:"p-4"},te={__name:"AppModal",props:{modelValue:Boolean,title:String},emits:["update:modelValue"],setup(o,{emit:a}){const e=a;function t(){e("update:modelValue",!1)}return(n,c)=>{const r=m;return o.modelValue?(l(),i("div",{key:0,class:"bg-black/50 fixed inset-0 z-50 grid place-items-center p-4",onClick:A(t,["self"])},[_("div",X,[_("div",Y,[_("p",Z,y(o.title),1),_("button",{type:"button",onClick:t,"aria-label":"Close"},[s(r,{icon:"close"})])]),_("div",ee,[g(n.$slots,"default")])])])):h("",!0)}}},oe={class:"flex border divide-x rounded dark:border-gray-700 dark:divide-gray-700"},ne={__name:"AddToCalendarButton",props:{open:Boolean},setup(o){const a=B(),e=v(new Date().toISOString().split("T")[0]),t=v(!1);async function n(){const c=encodeURIComponent(a.meta.title),r=window.location.href,u=e.value.replaceAll("-","");try{window.open(`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${c}&dates=${u}/${u}&details=${r}`,"_blank"),t.value=!1}catch{}}return(c,r)=>{const u=m,k=te;return l(),i(b,null,[_("button",T({type:"button",onClick:r[0]||(r[0]=p=>t.value=!0),"aria-label":"Share recipe"},c.$attrs),[s(u,{icon:"calendar"})],16),s(k,{modelValue:t.value,"onUpdate:modelValue":r[2]||(r[2]=p=>t.value=p),title:"Select a date"},{default:d(()=>[_("div",oe,[I(_("input",{type:"date","onUpdate:modelValue":r[1]||(r[1]=p=>e.value=p),autofocus:"",class:"w-full p-2 placeholder-gray-500 focus:outline-none bg-transparent"},null,512),[[V,e.value]]),_("button",{type:"button",class:"px-4 py-2",onClick:n,"aria-label":"Add to calendar"},"Add")])]),_:1},8,["modelValue"])],64)}}},ae=f(ne,[["__scopeId","data-v-d0749f22"]]),se={__name:"ShareButton",setup(o){async function a(){try{await navigator.share({url:window.location.href})}catch{}}return(e,t)=>{const n=m;return l(),i("button",{type:"button",onClick:a,"aria-label":"Share recipe"},[s(n,{icon:"share"})])}}},ce=["aria-checked"],re={__name:"FavouriteRecipeToggle",setup(o){const a=JSON.parse(localStorage.getItem("favourites")??"{}"),e=B(),t=v(a[e.name]);function n(){a[e.name]?(delete a[e.name],t.value=!1):(a[e.name]=!0,t.value=!0),localStorage.setItem("favourites",JSON.stringify(a))}return(c,r)=>{const u=m;return l(),i("button",{type:"button",role:"switch",onClick:n,"aria-label":"Toggle favourite","aria-checked":t.value?"true":"false"},[s(u,{class:x({"text-pink-600":t.value}),icon:t.value?"favorite":"favorite_border"},null,8,["class","icon"])],8,ce)}}},le={},ie={class:"flex border divide-x rounded dark:border-gray-700 dark:divide-gray-700"};function _e(o,a){const e=re,t=se,n=ae;return l(),i("div",ie,[s(e,{class:"flex-1 text-center p-2"}),s(t,{class:"flex-1 text-center p-2"}),s(n,{class:"flex-1 text-center p-2"})])}const ue=f(le,[["render",_e]]),de=["src"],pe={__name:"RecipeImage",props:{src:String},setup(o){return(a,e)=>(l(),i("img",{src:o.src,loading:"lazy",width:"360",height:"360",class:"shadow block w-full rounded dark:filter dark:brightness-75 dark:contrast-110"},null,8,de))}},me={};function fe(o,a){const e=m,t=L,n=R,c=M;return l(),i(b,null,[s(t,{to:{name:"home"},"aria-label":"Go home"},{default:d(()=>[s(e,{icon:"arrow_back"})]),_:1}),s(n,null,{default:d(()=>[$(y(o.$route.meta.title),1)]),_:1}),s(c)],64)}const ge=f(me,[["render",fe]]),he={},ve={class:"grid gap-6"},be={class:"grid gap-6 md:col-span-2"};function ke(o,a){const e=ge,t=z,n=pe,c=ue,r=W,u=E,k=O,p=F;return l(),i(b,null,[s(t,null,{default:d(()=>[g(o.$slots,"header",{},()=>[s(e)])]),_:3}),s(u,{class:"md:grid-cols-3 md:items-start"},{default:d(()=>[_("div",ve,[s(n,{src:o.$route.meta.image,alt:o.$route.meta.title},null,8,["src","alt"]),s(c),s(r,{chips:o.$route.meta.keywords},null,8,["chips"])]),_("div",be,[g(o.$slots,"default")])]),_:3}),s(k),s(p)],64)}const ye=f(he,[["render",ke]]),we={};export{ye as _,we as b};
