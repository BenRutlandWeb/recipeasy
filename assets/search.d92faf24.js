import{_ as e,a,b as s,c as t,d as r,e as n}from"./index.594210bc.js";import{l as o,s as l,b as c,e as u,g as i,o as d,c as p,a as f,w as h,u as y,m as g,F as m}from"./vendor.89dd05f2.js";const v=f("label",{for:"app-search",class:"sr-only"}," Search by ingredient, dish, keyword... ",-1),x={expose:[],setup(t){const r=o(),n=l(),x=c((()=>n.query.q||"")),b=u(null);function q({target:e}){r.push({name:"search",query:Object.assign({},n.query,{q:e.value})})}function w({target:e}){const a=Object.assign({},n.query);delete a.q,r.push({query:a}),b.value.focus()}return i((()=>b.value.focus())),(t,r)=>{const n=e,o=a,l=s;return d(),p(m,null,[f(o,{to:{name:"home"},"aria-label":"Go home"},{default:h((()=>[f(n,{icon:"arrow_back"})])),_:1}),v,f("input",{type:"search",id:"app-search",placeholder:"Ingredient, dish, keyword...",autocomplete:"off",value:y(x),onInput:q,ref:b,class:"\n      text-xl\n      flex-1\n      placeholder-gray-500\n      focus:outline-none\n      bg-transparent\n    "},null,40,["value"]),y(x)?(d(),p(l,{key:0,onClick:w,"aria-label":"clear search"},{default:h((()=>[f(n,{icon:"close"})])),_:1})):g("",!0)],64)}}},b={key:1},q={key:2,class:"text-center grid gap-4"},w=f("p",{class:"text-2xl"},"Search Recipeasy",-1),k={expose:[],setup(a){const s=c((()=>l().query.q||"")),u=o().options.routes.filter((e=>e.path.startsWith("/recipes"))).reverse(),i=c((()=>u.filter((e=>{var a,t;const r=s.value.toLowerCase(),n=e.meta;return n.title.toLowerCase().includes(r)||(null==(a=n.ingredients)?void 0:a.find((e=>e.toLowerCase().includes(r))))||(null==(t=n.keywords)?void 0:t.find((e=>e.toLowerCase().includes(r))))}))));return(a,o)=>{const l=x,c=r,u=n,g=e,m=t;return d(),p(m,null,{header:h((()=>[f(l)])),default:h((()=>[y(s)&&y(i).length?(d(),p(u,{key:0,items:y(i),class:"grid gap-6"},{default:h((({item:e})=>[f(c,{recipe:e},null,8,["recipe"])])),_:1},8,["items"])):y(s)?(d(),p("p",b,"No recipes found.")):(d(),p("div",q,[f(g,{icon:"search",class:"w-64 h-64 mx-auto text-gray-100"}),w]))])),_:1})}}};export default k;
