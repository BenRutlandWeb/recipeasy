import{_ as e,a as s,b as a,c as t,d as r,e as l}from"./index.0bcb8020.js";import{m as n,l as o,f as u,b as c,e as i,o as d,c as p,g as f,w as h,u as y,k as m,F as g,h as b}from"./vendor.5cc3f50f.js";const v=b("arrow_back"),q=f("label",{for:"app-search",class:"sr-only"}," Search by ingredient, dish, keyword... ",-1),k=b("close"),w={expose:[],setup(t){const r=n(),l=o(),b=u((()=>l.query.q||"")),w=c(null);function _({target:e}){r.push({name:"search",query:Object.assign({},l.query,{q:e.value})})}function x({target:e}){const s=Object.assign({},l.query);delete s.q,r.push({query:s}),w.value.focus()}return i((()=>w.value.focus())),(t,r)=>{const l=e,n=s,o=a;return d(),p(g,null,[f(n,{to:{name:"home"},"aria-label":"Go home"},{default:h((()=>[f(l,null,{default:h((()=>[v])),_:1})])),_:1}),q,f("input",{type:"search",id:"app-search",placeholder:"Ingredient, dish, keyword...",autocomplete:"off",value:y(b),onInput:_,ref:w,class:"\n      text-xl\n      flex-1\n      placeholder-gray-500\n      focus:outline-none\n      bg-transparent\n    "},null,40,["value"]),y(b)?(d(),p(o,{key:0,onClick:x,"aria-label":"clear search"},{default:h((()=>[f(l,null,{default:h((()=>[k])),_:1})])),_:1})):m("",!0)],64)}}},_={key:1,class:"list"},x=f("p",null,"No recipes found",-1),C={expose:[],setup(e){const s=u((()=>o().query.q||"")),a=n().options.routes.filter((e=>e.path.startsWith("/recipes"))).reverse(),c=u((()=>a.filter((e=>{var a,t;const r=s.value.toLowerCase(),l=e.meta;return l.title.toLowerCase().includes(r)||(null==(a=l.ingredients)?void 0:a.find((e=>e.toLowerCase().includes(r))))||(null==(t=l.keywords)?void 0:t.find((e=>e.toLowerCase().includes(r))))}))));return(e,s)=>{const a=w,n=r,o=l,u=t;return d(),p(u,null,{header:h((()=>[f(a)])),default:h((()=>[y(c).length?(d(),p(o,{key:0,items:y(c),class:"grid gap-6"},{default:h((({item:e})=>[f(n,{recipe:e},null,8,["recipe"])])),_:1},8,["items"])):(d(),p("div",_,[x]))])),_:1})}}};export default C;
